<template>
  <div class="wrapper text-left">
    <Menu />
    <div class="content-wrapper">
      <div class="card-body">
        <div class="row mt-3 ml-3 mr-3 my-auto">
          <div class="col">
            <div class="card bg-white">
              <div class="card-body">
                <form action="">
                  <div class="row">
                    <div class="col-6">
                      <div class="row">
                        <div class="col-6">
                          <input
                            type="file"
                            name=""
                            id=""
                            multiple
                            value="sidhvdiv"
                          />
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>จำนวนชั้น</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="class1"
                              name="class1"
                              class="custom-control-input"
                              value="1"
                            />
                            <label class="custom-control-label" for="class1"
                              >1</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="class2"
                              name="class1"
                              class="custom-control-input"
                              value="2"
                            />
                            <label class="custom-control-label" for="class2"
                              >2</label
                            >
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>จำนวนห้องนอน</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="Bedroom1"
                              name="customRadioInline7"
                              class="custom-control-input"
                            />
                            <label class="custom-control-label" for="Bedroom1"
                              >1</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="Bedroom2"
                              name="customRadioInline7"
                              class="custom-control-input"
                            />
                            <label class="custom-control-label" for="Bedroom2"
                              >2</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="Bedroom3"
                              name="customRadioInline7"
                              class="custom-control-input"
                            />
                            <label class="custom-control-label" for="Bedroom3"
                              >3</label
                            >
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>จำนวนห้องน้ำ</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="toilet1"
                              name="customRadioInline8"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="toilet1"
                              >1</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="toilet2"
                              name="customRadioInline8"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="toilet2"
                              >2</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="toilet3"
                              name="customRadioInline8"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="toilet3"
                              >3</label
                            >
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>จำนวนที่จอดรถ</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="car1"
                              name="customRadioInline9"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="car1"
                              >1</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="car2"
                              name="customRadioInline9"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="car2"
                              >2</label
                            >
                          </div>
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="car3"
                              name="customRadioInline9"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="car3"
                              >3</label
                            >
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>ขนาดที่ดิน</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="land1"
                              name="customRadioInline10"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="land1"
                              >23 ตร.วา</label
                            >
                          </div>

                          <div
                            class="custom-control custom-radio custom-control-inline"
                          >
                            <input
                              type="radio"
                              id="land2"
                              name="customRadioInline10"
                              class="custom-control-input"
                            />
                            <label
                              class="custom-control-label"
                              for="land2"
                              >24 ตร.วา</label
                            >
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>ราคา/เดือน</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <select class="custom-select"  name="price" id="pricehome">
                            <option value="ราคา" disabled selected>ราคา</option>
                            <option value="7500">7500</option>
                            <option value="8000">8000</option>
                            <option value="8500">8500</option>
                            <option value="9000">9000</option>
                            <option value="10000">10000</option>
                            <option value="11000">11000</option>
                            <option value="12000">12000</option>
                          </select>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-5 mt-3">
                          <p>เครื่องใช้ภายในบ้าน</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <textarea
                            class="form-control"
                            rows="3"
                            name="equipment"
                            id="equipmenthome"
                            
                          ></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="col-5">
                      <div class="row">
                        <div class="col-3 mt-5">
                          <p>บ้านเลขที่</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <input
                            type="text"
                            name="numberhome"
                            id="numberhome"
                            class="form-control"
                            aria-describedby="emailHelp"
                            
                          />
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-3 mt-3">
                          <p>เบอร์โทร</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <input
                            type="text"
                            name="phone"
                            class="form-control"
                            aria-describedby="emailHelp"
                            
                          />
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-3 mt-3">
                          <p>LineID</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <input
                            type="text"
                            class="form-control"
                            name="line"
                            aria-describedby="emailHelp"
                            
                          />
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-3 mt-3">
                          <p>Email</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col">
                          <input
                            type="email"
                            class="form-control"
                            name="email"
                            aria-describedby="emailHelp"
                            
                            style="width: 70%"
                          />
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-2 mt-4">
                          <p>สัญญา</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <select
                            class="custom-select"
                            
                            name="contract"
                            id = "contracthome"
                          >
                            <!-- <option selected>Choose...</option> -->
                            <option value="กี่ปี" disabled selected>กี่ปี</option>
                            <option value="1ปี">1ปี</option>
                            <option value="2ปี">2ปี</option>
                            <option value="3ปี">3ปี</option>
                          </select>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-3 mt-4">
                          <p>ข้อแนะนำ</p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col x">
                          <textarea
                            class="form-control"
                            rows="3"
                            name="Advice"
                            
                          ></textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="card-body">
                      <center>
                        <button
                          class="btn btn-primary d-inline"
                          @click="addhome"
                        >
                          summit
                        </button>
                        <button
                          type="reset"
                          class="btn btn-primary d-inline ml-5"
                        >
                          reset
                        </button>
                      </center>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import Menu from "@/components/menu.vue";
import firebase from "firebase";
import swal from 'sweetalert';
export default {
  beforeCreate() {
    //  alert("no Logged in");
    firebase.auth().onAuthStateChanged((user) => {
      if (!user) {
        //  alert("no Logged in");
        window.location.href = "/adminLogin";
        // this.$router.replace("/adminLogin");
      } else {
        // alert("Logged in");
      }
    });
  },

  components: {
    Menu,
  },
  mounted() {
    $(function () {
      $("#example1").DataTable({
        responsive: true,
        autoWidth: false,
      });
    });
  },
  methods: {
    addhome() {
      const axios = require("axios").default;
      var data = new FormData();
      var count;
      if (document.getElementById("class1").checked == true) {
        data.append("floor", 1);
      }
      if (document.getElementById("class2").checked == true) {
        data.append("floor", 2);
      }
      if (document.getElementById("Bedroom1").checked == true) {
        data.append("Bedroom", 1);
      }
      if (document.getElementById("Bedroom2").checked == true) {
        data.append("Bedroom", 2);
      }
      if (document.getElementById("Bedroom3").checked == true) {
        data.append("Bedroom", 3);
      }
      if (document.getElementById("toilet1").checked == true) {
        data.append("toilet", 1);
      }
      if (document.getElementById("toilet2").checked == true) {
        data.append("toilet", 2);
      }
      if (document.getElementById("toilet3").checked == true) {
        data.append("toilet", 3);
      }
      if (document.getElementById("car1").checked == true) {
        data.append("car", 1);
      }
      if (document.getElementById("car2").checked == true) {
        data.append("car", 2);
      }
      if (document.getElementById("car3").checked == true) {
        data.append("car", 3);
      }
      if (document.getElementById("land1").checked == true) {
        data.append("land", "23ตร.วา");
      }
      if (document.getElementById("land2").checked == true) {
        data.append("land", "24ตร.วา");
      }
      data.append("price", document.getElementById("pricehome").value);

      data.append("equipment", document.querySelector("textarea[id=equipmenthome]").value);

      data.append("numberhome", document.querySelector("input[name=numberhome]").value);

      data.append("phone", document.querySelector("input[name=phone]").value);

      data.append("line", document.querySelector("input[name=line]").value);

      data.append("email", document.querySelector("input[name=email]").value);

      data.append("contract", document.getElementById("contracthome").value);

      data.append("Advice", document.querySelector("textarea[name=Advice]").value);
      data.forEach((element) => {
        console.log(element);
      });
      // if(1){
      //   data.forEach((element) => {
      //   count++;
      // });
      // }
      // if(count == 13){
      //   axios.post("http://localhost:80/inserthome.php", data).then((response) => {
      //   console.log(response);
      // });
      // }
      // else{
      //   swal("ใส่ข้อมูลให้ครบ", "You clicked the button!", "warning");
      //   window.location.href = "#";
      // }
      axios.post("http://localhost:80/inserthome.php", data).then((response) => {
        console.log(response);
      });
      
    },
  },
};
</script>

<style>
.form-control,
.custom-select {
  width: 70%;
}
</style>